{% extends "base.html" %}
{% load static %}

{% block styles %}
<link rel="stylesheet" href="{% static 'dash.css' %}">
<title>Document</title>
{% endblock styles %}


{% block page %}
<section class="page">
  {% include 'sideBar.html' %}
  <section class="main">
    <section class="report_box">
      AAA
      {{course.get_schemes}}

    </section>
  </section>
</section>

<style>
  .report_box{
    width: 90%;
    padding: 0 5%;
    /* border: 2px solid black; */
    height: 200px;
  }
</style>

{% endblock page %}



{% block js %}
<script>
  const toggle_main = document.querySelector('.main .con form button')
  const main_header = document.querySelector('.main header')
  const main_con = document.querySelector('.main .con')
  toggle_main.onclick = () => {
    main.classList.toggle('toggle')
  }
</script>
<script>
  const item_in = document.getElementById('item_in')
  const item_select = document.getElementById('item_select')
  const items = document.querySelectorAll('#item')

  item_in.oninput = () => {
    items.forEach(el => {
      var el_name = el.dataset.name.toLowerCase()
      if (!el_name.includes(item_in.value)) {
        el.style.display = 'none'
      } else {
        el.style.display = 'flex'
      }
      runSearchAnime(el)
    })
  }

  item_select.onchange = () => {
    items.forEach(el => {
      var el_status = el.dataset.status.toLowerCase()
      if(item_select.value === 'all'){
        el.style.display = 'flex'
      }else{
        if (el_status != item_select.value.toLowerCase()) {
          el.style.display = 'none'
        } else {
          el.style.display = 'flex'
        }
      }
      runSearchAnime(el)
    })
  }

  items.forEach((el, i) => {
    anime({
      targets: el,
      translateX: [-50, 0],
      opacity: [0, 1],
      duration: 300,
      easing: 'spring(1, 80, 10, 0)',
      delay: i * 100
    })
  })

  document.querySelectorAll('.main header .box').forEach((el, i) => {
    anime({
      targets: el,
      translateY: [-50, 0],
      opacity: [0, 1],
      scale: [0.8, 1],
      duration: 500,
      easing: 'spring(1, 80, 10, 0)',
      delay: i * 100
    })
  })

</script>

<script>
  const ctx = document.getElementById('myChart');
  var pendCount = parseInt('{{status.pend_count}}')
  var actCount = parseInt('{{status.act_count}}')
  var compCount = parseInt('{{status.comp_count}}')
  new Chart(ctx, {
    type: 'doughnut',
    data: {
      datasets: [{
        backgroundColor: ['#00acea', '#acedc2', '#fe6265'],
        data: [actCount, compCount, pendCount],
        borderWidth: 1,
      }]
    },
  });
</script>
{% endblock js %}